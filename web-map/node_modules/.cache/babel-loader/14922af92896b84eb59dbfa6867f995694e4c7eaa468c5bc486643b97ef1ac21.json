{"ast":null,"code":"import axios from 'axios';\nimport config from '../config/config';\nconst api = axios.create({\n  baseURL: config.API_SIGNALEMENTS_URL,\n  headers: {\n    'Content-Type': 'application/json'\n  }\n});\n\n// Intercepteur pour ajouter le token aux requêtes\napi.interceptors.request.use(reqConfig => {\n  const token = localStorage.getItem('token');\n  if (token) {\n    reqConfig.headers.Authorization = `Bearer ${token}`;\n  }\n  return reqConfig;\n});\nconst signalementService = {\n  // Récupérer tous les signalements\n  getAll: async () => {\n    const response = await api.get('/signalements');\n    return response.data;\n  },\n  // Récupérer un signalement par ID\n  getById: async id => {\n    const response = await api.get(`/signalements/${id}`);\n    return response.data;\n  },\n  // Créer un nouveau signalement\n  create: async signalement => {\n    const response = await api.post('/signalements', signalement);\n    return response.data;\n  },\n  // Mettre à jour un signalement\n  update: async (id, signalement) => {\n    const response = await api.put(`/signalements/${id}`, signalement);\n    return response.data;\n  },\n  // Supprimer un signalement\n  delete: async id => {\n    const response = await api.delete(`/signalements/${id}`);\n    return response.data;\n  },\n  // Mettre à jour le statut d'un signalement\n  updateStatus: async (id, statusId) => {\n    const response = await api.patch(`/signalements/${id}/status`, {\n      id_statut: statusId\n    });\n    return response.data;\n  },\n  // Récupérer les statistiques globales\n  getStats: async () => {\n    const response = await api.get('/signalements/stats');\n    return response.data;\n  },\n  // Synchroniser avec Firebase\n  syncWithFirebase: async () => {\n    const response = await api.post('/signalements/sync');\n    return response.data;\n  },\n  // Récupérer les entreprises\n  getEntreprises: async () => {\n    const response = await api.get('/entreprises');\n    return response.data;\n  },\n  // Récupérer les utilisateurs bloqués\n  getBlockedUsers: async () => {\n    const response = await api.get('/users/blocked');\n    return response.data;\n  }\n};\nexport default signalementService;","map":{"version":3,"names":["axios","config","api","create","baseURL","API_SIGNALEMENTS_URL","headers","interceptors","request","use","reqConfig","token","localStorage","getItem","Authorization","signalementService","getAll","response","get","data","getById","id","signalement","post","update","put","delete","updateStatus","statusId","patch","id_statut","getStats","syncWithFirebase","getEntreprises","getBlockedUsers"],"sources":["D:/L3/Mr Rojo/cloud/web-map/src/services/signalementService.js"],"sourcesContent":["import axios from 'axios';\r\nimport config from '../config/config';\r\n\r\nconst api = axios.create({\r\n  baseURL: config.API_SIGNALEMENTS_URL,\r\n  headers: {\r\n    'Content-Type': 'application/json'\r\n  }\r\n});\r\n\r\n// Intercepteur pour ajouter le token aux requêtes\r\napi.interceptors.request.use((reqConfig) => {\r\n  const token = localStorage.getItem('token');\r\n  if (token) {\r\n    reqConfig.headers.Authorization = `Bearer ${token}`;\r\n  }\r\n  return reqConfig;\r\n});\r\n\r\nconst signalementService = {\r\n  // Récupérer tous les signalements\r\n  getAll: async () => {\r\n    const response = await api.get('/signalements');\r\n    return response.data;\r\n  },\r\n\r\n  // Récupérer un signalement par ID\r\n  getById: async (id) => {\r\n    const response = await api.get(`/signalements/${id}`);\r\n    return response.data;\r\n  },\r\n\r\n  // Créer un nouveau signalement\r\n  create: async (signalement) => {\r\n    const response = await api.post('/signalements', signalement);\r\n    return response.data;\r\n  },\r\n\r\n  // Mettre à jour un signalement\r\n  update: async (id, signalement) => {\r\n    const response = await api.put(`/signalements/${id}`, signalement);\r\n    return response.data;\r\n  },\r\n\r\n  // Supprimer un signalement\r\n  delete: async (id) => {\r\n    const response = await api.delete(`/signalements/${id}`);\r\n    return response.data;\r\n  },\r\n\r\n  // Mettre à jour le statut d'un signalement\r\n  updateStatus: async (id, statusId) => {\r\n    const response = await api.patch(`/signalements/${id}/status`, { id_statut: statusId });\r\n    return response.data;\r\n  },\r\n\r\n  // Récupérer les statistiques globales\r\n  getStats: async () => {\r\n    const response = await api.get('/signalements/stats');\r\n    return response.data;\r\n  },\r\n\r\n  // Synchroniser avec Firebase\r\n  syncWithFirebase: async () => {\r\n    const response = await api.post('/signalements/sync');\r\n    return response.data;\r\n  },\r\n\r\n  // Récupérer les entreprises\r\n  getEntreprises: async () => {\r\n    const response = await api.get('/entreprises');\r\n    return response.data;\r\n  },\r\n\r\n  // Récupérer les utilisateurs bloqués\r\n  getBlockedUsers: async () => {\r\n    const response = await api.get('/users/blocked');\r\n    return response.data;\r\n  }\r\n};\r\n\r\nexport default signalementService;\r\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,MAAM,MAAM,kBAAkB;AAErC,MAAMC,GAAG,GAAGF,KAAK,CAACG,MAAM,CAAC;EACvBC,OAAO,EAAEH,MAAM,CAACI,oBAAoB;EACpCC,OAAO,EAAE;IACP,cAAc,EAAE;EAClB;AACF,CAAC,CAAC;;AAEF;AACAJ,GAAG,CAACK,YAAY,CAACC,OAAO,CAACC,GAAG,CAAEC,SAAS,IAAK;EAC1C,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;EAC3C,IAAIF,KAAK,EAAE;IACTD,SAAS,CAACJ,OAAO,CAACQ,aAAa,GAAG,UAAUH,KAAK,EAAE;EACrD;EACA,OAAOD,SAAS;AAClB,CAAC,CAAC;AAEF,MAAMK,kBAAkB,GAAG;EACzB;EACAC,MAAM,EAAE,MAAAA,CAAA,KAAY;IAClB,MAAMC,QAAQ,GAAG,MAAMf,GAAG,CAACgB,GAAG,CAAC,eAAe,CAAC;IAC/C,OAAOD,QAAQ,CAACE,IAAI;EACtB,CAAC;EAED;EACAC,OAAO,EAAE,MAAOC,EAAE,IAAK;IACrB,MAAMJ,QAAQ,GAAG,MAAMf,GAAG,CAACgB,GAAG,CAAC,iBAAiBG,EAAE,EAAE,CAAC;IACrD,OAAOJ,QAAQ,CAACE,IAAI;EACtB,CAAC;EAED;EACAhB,MAAM,EAAE,MAAOmB,WAAW,IAAK;IAC7B,MAAML,QAAQ,GAAG,MAAMf,GAAG,CAACqB,IAAI,CAAC,eAAe,EAAED,WAAW,CAAC;IAC7D,OAAOL,QAAQ,CAACE,IAAI;EACtB,CAAC;EAED;EACAK,MAAM,EAAE,MAAAA,CAAOH,EAAE,EAAEC,WAAW,KAAK;IACjC,MAAML,QAAQ,GAAG,MAAMf,GAAG,CAACuB,GAAG,CAAC,iBAAiBJ,EAAE,EAAE,EAAEC,WAAW,CAAC;IAClE,OAAOL,QAAQ,CAACE,IAAI;EACtB,CAAC;EAED;EACAO,MAAM,EAAE,MAAOL,EAAE,IAAK;IACpB,MAAMJ,QAAQ,GAAG,MAAMf,GAAG,CAACwB,MAAM,CAAC,iBAAiBL,EAAE,EAAE,CAAC;IACxD,OAAOJ,QAAQ,CAACE,IAAI;EACtB,CAAC;EAED;EACAQ,YAAY,EAAE,MAAAA,CAAON,EAAE,EAAEO,QAAQ,KAAK;IACpC,MAAMX,QAAQ,GAAG,MAAMf,GAAG,CAAC2B,KAAK,CAAC,iBAAiBR,EAAE,SAAS,EAAE;MAAES,SAAS,EAAEF;IAAS,CAAC,CAAC;IACvF,OAAOX,QAAQ,CAACE,IAAI;EACtB,CAAC;EAED;EACAY,QAAQ,EAAE,MAAAA,CAAA,KAAY;IACpB,MAAMd,QAAQ,GAAG,MAAMf,GAAG,CAACgB,GAAG,CAAC,qBAAqB,CAAC;IACrD,OAAOD,QAAQ,CAACE,IAAI;EACtB,CAAC;EAED;EACAa,gBAAgB,EAAE,MAAAA,CAAA,KAAY;IAC5B,MAAMf,QAAQ,GAAG,MAAMf,GAAG,CAACqB,IAAI,CAAC,oBAAoB,CAAC;IACrD,OAAON,QAAQ,CAACE,IAAI;EACtB,CAAC;EAED;EACAc,cAAc,EAAE,MAAAA,CAAA,KAAY;IAC1B,MAAMhB,QAAQ,GAAG,MAAMf,GAAG,CAACgB,GAAG,CAAC,cAAc,CAAC;IAC9C,OAAOD,QAAQ,CAACE,IAAI;EACtB,CAAC;EAED;EACAe,eAAe,EAAE,MAAAA,CAAA,KAAY;IAC3B,MAAMjB,QAAQ,GAAG,MAAMf,GAAG,CAACgB,GAAG,CAAC,gBAAgB,CAAC;IAChD,OAAOD,QAAQ,CAACE,IAAI;EACtB;AACF,CAAC;AAED,eAAeJ,kBAAkB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}